/* VERSÃO EXTRAORDINÁRIA - DESIGN E UX COMPLETOS */
:root {
  --color-background-start: #0f172a;
  --color-background-end: #1e1b4b;
  --color-primary: #8b5cf6;
  --color-primary-dark: #6d28d9;
  --color-accent: #c4b5fd;
  --color-card-bg: rgba(30, 27, 75, 0.5);
  --color-border: rgba(139, 92, 246, 0.2);
  --color-success: #10b981;
  --color-danger: #f43f5e;
  --color-warning: #f59e0b; /* Laranja/Ambar para "próximo" */
  --border-radius: 12px;
  --transition-speed: 0.3s;
}

@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-15px); } to { opacity: 1; transform: translateY(0); } }

body { font-family: 'Poppins', sans-serif; }
.bg-gradient { background: linear-gradient(135deg, var(--color-background-start), var(--color-background-end)); min-height: 100vh; }
.fade-in { animation: fadeIn 0.7s ease-out forwards; }
.hidden { display: none; }

.btn { padding: 12px 28px; border-radius: var(--border-radius); font-weight: 600; transition: all var(--transition-speed); transform-origin: center; border: 2px solid transparent; cursor: pointer; }
.btn:hover { transform: scale(1.05); }
.btn-gerar { background-color: var(--color-primary); color: white; }
.btn-excluir { border-color: var(--color-danger); color: var(--color-danger); }
.btn-excluir:hover { background-color: var(--color-danger); color: white; }
.btn-concluir { background-color: var(--color-success); color: white; width: 100%; margin-top: 1rem; }
.btn-concluir.concluida { background-color: var(--color-border); color: var(--color-accent); }
.btn-upload { background-color: var(--color-primary-dark); color: white; }

.form-card, .analise-card, .sidebar-card, .timeline-item-content {
  background-color: var(--color-card-bg);
  backdrop-filter: blur(10px);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius);
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}
.form-label { display: block; color: #d1d5db; font-weight: 500; margin-bottom: 0.5rem; }
.form-input { display: block; width: 100%; background-color: rgba(0,0,0,0.2); border: 1px solid var(--color-border); color: var(--color-accent); border-radius: 8px; padding: 0.75rem; transition: all var(--transition-speed); }
.form-input:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.4); outline: none; }

.dashboard-layout { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; }
.analise-card { padding: 1.5rem 2rem; }
.analise-card h3 { font-size: 1.5rem; font-weight: 700; color: var(--color-accent); border-bottom: 2px solid var(--color-primary); padding-bottom: 0.5rem; margin-bottom: 1rem; }
.analise-card strong { color: white; }

.timeline { position: relative; }
.timeline::before { content: ''; position: absolute; width: 3px; background-color: var(--color-border); top: 0; bottom: 0; left: 50%; transform: translateX(-50%); }
.timeline-item { position: relative; width: 50%; padding: 10px 40px; margin-bottom: 30px; }
.timeline-item:nth-child(odd) { left: 0; }
.timeline-item:nth-child(even) { left: 50%; }
.timeline-item::after { content: ''; position: absolute; width: 20px; height: 20px; background-color: var(--color-primary-dark); border: 4px solid var(--color-primary); top: 20px; border-radius: 50%; z-index: 1; transition: all var(--transition-speed); }
.timeline-item:nth-child(odd)::after { right: -10px; }
.timeline-item:nth-child(even)::after { left: -10px; }
.timeline-item:last-child { margin-bottom: 0; }

.timeline-item-content { cursor: pointer; border: 2px solid transparent; transition: all var(--transition-speed); padding: 20px 25px; }
.tag { background-color: var(--color-primary-dark); color: var(--color-accent); padding: 4px 12px; font-size: 0.75rem; border-radius: 15px; display: inline-block; font-weight: 500; }
.prazo-display { color: var(--color-accent); font-size: 0.9rem; }

/* === NOVOS ESTILOS DE STATUS DE PRAZO === */
.timeline-item.pendente .timeline-item-content {
  border-color: var(--color-danger);
  box-shadow: 0 4px 20px rgba(244, 63, 94, 0.25);
}
.timeline-item.pendente::after {
  background-color: var(--color-danger);
}

.timeline-item.proximo .timeline-item-content {
  border-color: var(--color-warning);
  box-shadow: 0 4px 20px rgba(245, 158, 11, 0.25);
}
.timeline-item.proximo::after {
  background-color: var(--color-warning);
}

/* === ESTILOS DE ESTADO (ATIVO/CONCLUÍDO) === */
.timeline-item.active .timeline-item-content {
  transform: translateY(-5px);
  border-color: var(--color-primary) !important; /* Prioridade quando ativo */
  box-shadow: 0 8px 40px rgba(139, 92, 246, 0.3);
}
.timeline-item.active::after {
  transform: scale(1.2);
  background-color: var(--color-accent);
}

.timeline-item.concluida .timeline-item-content {
  opacity: 0.7;
  border-color: var(--color-success) !important; /* Prioridade máxima quando concluído */
}
.timeline-item.concluida::after {
  background-color: var(--color-success) !important;
}
.timeline-item.concluida.active .timeline-item-content {
  opacity: 1;
}

.sidebar-card { padding: 1.5rem; }
.sidebar-card h4 { font-weight: 600; color: var(--color-accent); margin-top: 1.5rem; margin-bottom: 0.5rem; }
.sidebar-card ul { list-style-type: disc; padding-left: 1.5rem; color: #d1d5db; }
.sidebar-card li { margin-bottom: 0.5rem; }
.entregavel-area { margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--color-border); }
#upload-entregavel { width: 100%; background-color: rgba(0,0,0,0.2); border: 1px dashed var(--color-border); border-radius: 8px; padding: 1rem; }

.progress-bar-container { width: 100%; background-color: rgba(0,0,0,0.2); border-radius: 999px; height: 10px; overflow: hidden; }
.progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--color-primary), var(--color-success)); transition: width 0.5s ease-out; }

.spinner { width: 56px; height: 56px; border: 6px solid rgba(255,255,255,0.2); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto; }

@media (max-width: 1024px) {
  .dashboard-layout { grid-template-columns: 1fr; }
  /* O sidebar original some, mas poderíamos adaptá-lo para um modal aqui se necessário */
}
@media (max-width: 768px) {
  .timeline::before { left: 10px; }
  .timeline-item, .timeline-item:nth-child(even) { width: 100%; left: 0; padding-left: 40px; padding-right: 0; }
  .timeline-item::after, .timeline-item:nth-child(even)::after { left: 0; }
}